### How to install in a UTM VM on MacOS
1. Create new VM ubuntu 24 lts server (for arm because mac has arm)
1.1 Use: https://ubuntu.com/download/server/arm
2. Do the installation phase
3. Run (install GUI):
sudo apt update
sudo apt install ubuntu-desktop 
sudo reboot

4. Install some stuff
sudo apt install tilix #Use the terminal you prefer -> byobu should be installed already

5. Install ROS2 Jazzy liked described on the website
https://docs.ros.org/en/jazzy/Installation/Ubuntu-Install-Debs.html

6. Install Gazebo harmonic
sudo apt-get install curl
sudo curl https://packages.osrfoundation.org/gazebo.gpg --output /usr/share/keyrings/pkgs-osrf-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/pkgs-osrf-archive-keyring.gpg] http://packages.osrfoundation.org/gazebo/ubuntu-stable $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/gazebo-stable.list > /dev/null
sudo apt-get update
sudo apt-get install gz-harmonic

7. rosdep
sudo rosdep init
rosdep update


7.Install turtlebot4 packages
7.1 Create3
mkdir ros2_ws && cd ros2_ws
mkdir create3_ws && cd create3_ws
mkdir src && cd src
git clone --branch multirobot https://github.com/paoloelle/create3_sim.git
git clone https://github.com/paoloelle/irobot_create_msgs -b jazzy
cd ..
rosdep install --from-path src -yi --rosdistro jazzy
source /opt/ros/jazzy/setup.bash
MAKEFLAGS="-j 2" colcon build --symlink-install
source install/local_setup.bash
cd ..

7.2 turtlebot4
mkdir turtlebot4_ws
cd turtlebot4_ws
mkdir src
cd src
git clone --branch jazzy https://github.com/turtlebot/turtlebot4.git
git clone --branch jazzy https://github.com/turtlebot/turtlebot4_setup.git
git clone --branch jazzy https://github.com/turtlebot/turtlebot4_desktop.git
git clone --branch jazzy https://github.com/turtlebot/turtlebot4_simulator.git
cd ..
rosdep install --from-path src -yi --rosdistro jazzy
source /opt/ros/jazzy/setup.bash
MAKEFLAGS="-j 2" colcon build --symlink-install
source install/local_setup.bash

8. Make the access
irobot_create_common/irobot_create_description/urdf/create3.urdf.xacro` the line `<publish_link_pose>false</publish_link_pose>` to true so the Gazebo plugin can publish the TB4 pose to a topic that we later can access "gazebo-ros2 bridge node";


